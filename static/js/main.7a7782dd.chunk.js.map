{"version":3,"sources":["components/ProtectedRoute.js","images/header/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Footer.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/AddPlacePopup.js","components/DelPlacePopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","images/popup/popup__notify-success.png","images/popup/popup__notify-failed.png","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","onSignOut","email","React","useState","isMenuOpen","setMenuOpen","isMain","useRouteMatch","path","exact","className","src","logoPath","alt","type","aria-label","onClick","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isLiked","likes","some","i","_id","isOwn","owner","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","length","Footer","Date","getFullYear","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","item","PopupWithForm","isOpen","title","buttonText","onClose","onSubmit","children","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","evt","preventDefault","onChange","target","value","id","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","ImagePopup","AddPlacePopup","namePlace","setNamePlace","linkPlace","setLinkPlace","DelPlacePopup","onDelPlace","Login","handleLogin","password","data","setData","handleChange","Register","handleRegister","ICONS","success","error","InfoTooltip","status","iconType","text","api","address","token","this","_address","_token","res","ok","json","Promise","reject","fetch","method","headers","authorization","then","_handleResponse","body","JSON","stringify","BASE_URL","checkResponse","response","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","tooltipStatus","setTooltipStatus","isDelPlacePopupOpen","setDelPlacePopupOpen","cardForDelete","setCardForDelete","setLoggedIn","history","useHistory","selectedCard","setSelectedCard","setCurrentUser","setCards","setEmail","closeAllPopups","all","getUserProfile","getInitialCards","user","reverse","push","catch","console","log","jwt","localStorage","getItem","checkToken","handleEscClose","key","handleOverlayClose","classList","contains","window","addEventListener","removeEventListener","Provider","removeItem","changeLikeCardStatus","newCard","state","c","auth","setItem","onSuccess","setUserAvatar","dataAvatar","setUserProfile","dataInfo","addNewCard","removeCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6OAYeA,EATQ,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBC,EAAa,6BAC9D,OACE,cAAC,IAAD,UAEI,kBAAMA,EAAMC,SAAW,cAACH,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUE,GAAG,iBCPxD,MAA0B,yCCyD1BC,MA/Bf,YAAuC,IAArBC,EAAoB,EAApBA,UAAWC,EAAS,EAATA,MAC3B,EAAkCC,IAAMC,UAAS,GAAjD,mBAAOC,EAAP,KAAmBC,EAAnB,KAMMC,EAASC,YAAc,CAACC,KAAM,QAASC,OAAO,IAEpD,OACE,yBAAQC,UAAS,iBAAYN,EAAa,mBAAqB,GAA9C,YAAoDE,EAAS,mBAAqB,IAAnG,UACE,qBAAKI,UAAU,eAAeC,IAAKC,EAAUC,IAAI,gGACjD,eAAC,IAAD,WACE,eAAC,IAAD,CAAOJ,OAAK,EAACD,KAAK,QAAlB,UACE,wBAAQE,UAAU,iBAAiBI,KAAK,SAASC,aAAW,2BAAOC,QAX3E,WACEX,GAAaD,MAWP,sBAAKM,UAAU,yBAAf,UACE,mBAAGA,UAAU,qBAAb,SAAmCT,IACnC,wBAAQS,UAAU,sBAAsBM,QAAShB,EAAjD,kDAGJ,cAAC,IAAD,CAAOQ,KAAK,UAAZ,SACE,cAAC,IAAD,CAAME,UAAU,qBAAqBZ,GAAG,SAAxC,8CAEF,cAAC,IAAD,CAAOU,KAAK,UAAZ,SACE,cAAC,IAAD,CAAME,UAAU,qBAAqBZ,GAAG,SAAxC,yFChDGmB,EAAqBf,IAAMgB,gBC0CzBC,MAzCf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACvCC,EAActB,IAAMuB,WAAWR,GAC/BS,EAAUN,EAAKO,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQN,EAAYM,OAErDC,EAAQX,EAAKY,MAAMF,MAAQN,EAAYM,IACvCG,EAAyB,iCACHF,EAAQ,gCAAkC,IAEhEG,EAAuB,+BACHR,EAAU,8BAAgC,IAepE,OACE,0BAAShB,UAAU,UAAnB,UACE,qBAAKA,UAAU,oBAAf,SACE,qBAAKA,UAAU,iBAAiBC,IAAKS,EAAKe,KAAMtB,IAAG,6BAASO,EAAKgB,KAAd,sMAA6DpB,QAftH,WACEK,EAAYD,QAgBV,wBAAQV,UAAWuB,EAA2BjB,QATlD,WACEO,EAAaH,IAQ0DN,KAAK,WAC1E,sBAAKJ,UAAU,gBAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCU,EAAKgB,OACrC,sBAAK1B,UAAU,mBAAf,UACE,wBAAQA,UAAWwB,EAAyBlB,QAjBpD,WACEM,EAAWF,IAgB4DN,KAAK,WACtE,mBAAGJ,UAAU,wBAAb,SAAsCU,EAAKO,MAAMU,mBCzB5CC,MAVf,WACE,OACE,wBAAQ5B,UAAU,SAAlB,SACE,oBAAGA,UAAU,oBAAb,mBACU,IAAI6B,MAAOC,cADrB,6DC8BSC,MA9Bf,YAA0G,IAA1FC,EAAyF,EAAzFA,aAAcC,EAA2E,EAA3EA,cAAeC,EAA4D,EAA5DA,WAAYvB,EAAgD,EAAhDA,YAAaC,EAAmC,EAAnCA,WAAYC,EAAuB,EAAvBA,aAAcsB,EAAS,EAATA,MAExFrB,EAActB,IAAMuB,WAAWR,GAErC,OACE,qCACE,sBAAKP,UAAU,UAAf,UACE,0BAASA,UAAU,UAAnB,UACE,sBAAKA,UAAU,uBAAf,UACE,qBAAKA,UAAU,0BAA0BM,QAAS0B,IAClD,qBAAKhC,UAAU,kBAAkBC,IAAKa,EAAYsB,OAAQjC,IAAKW,EAAYY,UAE7E,sBAAK1B,UAAU,gBAAf,UACE,wBAAQA,UAAU,uBAAuBM,QAAS2B,EAAe7B,KAAK,WACtE,oBAAIJ,UAAU,gBAAd,SAA+Bc,EAAYY,OAC3C,mBAAG1B,UAAU,iBAAb,SAA+Bc,EAAYuB,WAE7C,wBAAQrC,UAAU,sBAAsBM,QAAS4B,EAAY9B,KAAK,cAGpE,yBAASJ,UAAU,WAAnB,SACGmC,EAAMG,KAAI,SAACC,GAAD,OAAW,cAAC,EAAD,CAAqB7B,KAAM6B,EAAM5B,YAAaA,EAAaC,WAAYA,EAAYC,aAAcA,GAAtF0B,EAAKnB,aAI1C,cAAC,EAAD,QCZSoB,MAhBf,YAA0F,IAAjEC,EAAgE,EAAhEA,OAAQC,EAAwD,EAAxDA,MAAOhB,EAAiD,EAAjDA,KAAMiB,EAA2C,EAA3CA,WAAYC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SAE3E,OACI,yBAAS9C,UAAS,2BAAsB0B,EAAtB,YAA8Be,EAAS,eAAiB,IAA1E,SACE,sBAAKzC,UAAU,mBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8B0C,IAC9B,uBAAM1C,UAAS,uCAAkC0B,GAAQmB,SAAUA,EAAUnB,KAAI,qBAAgBA,GAAjG,UACGoB,EACD,wBAAQ9C,UAAU,iCAAiCI,KAAK,SAAxD,SAAiE,sBAAMJ,UAAU,qBAAhB,SAAsC2C,SAEzG,wBAAQ3C,UAAU,sBAAsBI,KAAK,SAASE,QAASsC,UCkC1DG,MA1Cf,YAA8D,IAAlCN,EAAiC,EAAjCA,OAAQG,EAAyB,EAAzBA,QAASI,EAAgB,EAAhBA,aAC3C,EAAwBxD,IAAMC,SAAS,IAAvC,mBAAOiC,EAAP,KAAauB,EAAb,KACA,EAAsCzD,IAAMC,SAAS,IAArD,mBAAOyD,EAAP,KAAoBC,EAApB,KACMrC,EAActB,IAAMuB,WAAWR,GAyBrC,OAvBAf,IAAM4D,WAAU,WACVtC,EAAYuB,OAASvB,EAAYY,OACnCuB,EAAQnC,EAAYY,MACpByB,EAAerC,EAAYuB,UAE5B,CAACvB,EAAa2B,IAmBf,eAAC,EAAD,CAAeA,OAAQA,EAAQC,MAAO,4HAAyBhB,KAAM,UAAWiB,WAAY,yDAAaE,SAT3G,SAAsBQ,GACpBA,EAAIC,iBACJN,EAAa,CACXtB,OACAW,MAAOa,KAKwHN,QAASA,EAA1I,UACE,sBAAK5C,UAAU,mBAAf,UACE,uBAAOA,UAAU,qCAAqCuD,SAnB5D,SAA0BF,GACxBJ,EAAQI,EAAIG,OAAOC,QAkBmEA,MAAO/B,EAAMgC,GAAG,aAAatD,KAAK,OAAOuD,YAAY,qBAAMjC,KAAK,OAAOkC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,IAC9L,sBAAM9D,UAAU,2CAElB,sBAAKA,UAAU,mBAAf,UACE,uBAAOA,UAAU,wCAAwCuD,SAnB/D,SAA2BF,GACzBF,EAAeE,EAAIG,OAAOC,QAkBgEA,MAAOP,EAAaQ,GAAG,cAActD,KAAK,OAAOuD,YAAY,kCAASjC,KAAK,QAAQkC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,IAC/M,sBAAM9D,UAAU,gDCfT+D,MAtBf,YAA+D,IAApCtB,EAAmC,EAAnCA,OAAQG,EAA2B,EAA3BA,QAASoB,EAAkB,EAAlBA,eAEpCC,EAAWzE,IAAM0E,SAUvB,OACE,cAAC,EAAD,CAAgBzB,OAAQA,EAAQC,MAAO,wFAAmBhB,KAAM,SAAUiB,WAAY,yDAAaE,SATrG,SAAsBQ,GACpBA,EAAIC,iBAEJU,EAAe,CACb5B,OAAQ6B,EAASE,QAAQV,QACxB,WAAOQ,EAASE,QAAQV,MAAQ,OAIwFb,QAASA,EAApI,SACE,sBAAK5C,UAAU,gDAAf,UACE,uBAAOA,UAAU,eAAeoE,IAAKH,EAAUP,GAAG,aAAatD,KAAK,MAAMuD,YAAY,qGAAqBjC,KAAK,SAASoC,UAAQ,IACjI,sBAAM9D,UAAU,8CCHTqE,MAdf,YAAwC,IAAlB3D,EAAiB,EAAjBA,KAAMkC,EAAW,EAAXA,QAC1B,OACE,yBAAS5C,UAAS,qDAAgDU,EAAKe,KAAO,eAAiB,IAA/F,SACE,sBAAKzB,UAAU,cAAf,UACE,yBAAQA,UAAU,gBAAlB,UACE,qBAAKC,IAAKS,EAAKe,KAAMtB,IAAKO,EAAKgB,KAAM1B,UAAU,iBAC/C,4BAAYA,UAAU,iBAAtB,SAAwCU,EAAKgB,UAE/C,wBAAQ1B,UAAU,sBAAsBI,KAAK,SAASE,QAASsC,UC+BxD0B,MAtCf,YAAyD,IAAhC7B,EAA+B,EAA/BA,OAAQG,EAAuB,EAAvBA,QAASV,EAAc,EAAdA,WAExC,EAAkC1C,IAAMC,SAAS,IAAjD,mBAAO8E,EAAP,KAAkBC,EAAlB,KACA,EAAkChF,IAAMC,SAAS,IAAjD,mBAAOgF,EAAP,KAAkBC,EAAlB,KAqBA,OACE,eAAC,EAAD,CAAejC,OAAQA,EAAQC,MAAO,gEAAehB,KAAM,QAASiB,WAAY,6CAAWE,SAZ7F,SAAsBQ,GACpBA,EAAIC,iBACJpB,EAAW,CACTR,KAAM6C,EACN9C,KAAMgD,IACL,WACDD,EAAa,IACbE,EAAa,QAKoG9B,QAASA,EAA5H,UACE,sBAAK5C,UAAU,mBAAf,UACE,uBAAOA,UAAU,qCAAqCuD,SAtB5D,SAA+BF,GAC7BmB,EAAanB,EAAIG,OAAOC,QAqBmEA,MAAOc,EAAWb,GAAG,cAActD,KAAK,OAAOuD,YAAY,mDAAWjC,KAAK,OAAOkC,UAAU,IAAIC,UAAU,KAAKC,UAAQ,IAC9M,sBAAM9D,UAAU,4CAElB,sBAAKA,UAAU,mBAAf,UACE,uBAAOA,UAAU,wCAAwCuD,SAtB/D,SAA+BF,GAC7BqB,EAAarB,EAAIG,OAAOC,QAqBsEA,MAAOgB,EAAWf,GAAG,aAAatD,KAAK,MAAMuD,YAAY,qGAAqBjC,KAAK,OAAOoC,UAAQ,IAC5L,sBAAM9D,UAAU,+CCpBT2E,MAZf,YAAyD,IAAhClC,EAA+B,EAA/BA,OAAQG,EAAuB,EAAvBA,QAASgC,EAAc,EAAdA,WAOxC,OACE,cAAC,EAAD,CAAenC,OAAQA,EAAQG,QAASA,EAASC,SANnD,SAAsBQ,GACpBA,EAAIC,iBACJsB,KAIyElC,MAAO,2DAAehB,KAAK,SAASiB,WAAY,kB,QC4B9GkC,MArCf,YAAiC,IAAhBC,EAAe,EAAfA,YAEf,EAAwBrF,mBAAS,CAC/BsF,SAAU,GACVxF,MAAO,KAFT,mBAAOyF,EAAP,KAAaC,EAAb,KAKA,SAASC,EAAa7B,GACpB,MAAsBA,EAAIG,OAAnB9B,EAAP,EAAOA,KAAM+B,EAAb,EAAaA,MACbwB,EAAQ,2BACHD,GADE,kBAEJtD,EAAO+B,KAUZ,OACE,mCACE,yBAASzD,UAAU,OAAnB,SACE,sBAAKA,UAAU,kBAAf,UACA,oBAAIA,UAAU,cAAd,sCACI,uBAAM6C,SAXhB,SAAsBQ,GACpBA,EAAIC,iBACJ,IAAQyB,EAAoBC,EAApBD,SAAUxF,EAAUyF,EAAVzF,MAClBuF,EAAY,CAAEC,WAAUxF,WAQcS,UAAU,aAAxC,UACE,uBAAOyD,MAAOuB,EAAKzF,MAAOgE,SAAU2B,EAAelF,UAAU,cAAc0D,GAAG,cAActD,KAAK,QAAQuD,YAAY,QAAQjC,KAAK,QAAQkC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,IAChL,uBAAOL,MAAOuB,EAAKD,SAAUxB,SAAU2B,EAAelF,UAAU,cAAc0D,GAAG,iBAAiBtD,KAAK,WAAWuD,YAAY,uCAASjC,KAAK,WAAWkC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,IAC7L,wBAAQ9D,UAAU,gCAAgCI,KAAK,SAAvD,SAAgE,sBAAMJ,UAAU,oBAAhB,yDCa/DmF,MAzCf,YAAuC,IAAnBC,EAAkB,EAAlBA,eAElB,EAAwB3F,mBAAS,CAC/BsF,SAAU,GACVxF,MAAO,KAFT,mBAAOyF,EAAP,KAAaC,EAAb,KAKA,SAASC,EAAa7B,GACpB,MAAsBA,EAAIG,OAAnB9B,EAAP,EAAOA,KAAM+B,EAAb,EAAaA,MACbwB,EAAQ,2BACHD,GADE,kBAEJtD,EAAO+B,KAUZ,OACE,mCACE,yBAASzD,UAAU,OAAnB,SACE,sBAAKA,UAAU,kBAAf,UACE,oBAAIA,UAAU,cAAd,gFACA,uBAAM6C,SAXd,SAAsBQ,GACpBA,EAAIC,iBACJ,IAAQyB,EAAoBC,EAApBD,SAAUxF,EAAUyF,EAAVzF,MAClB6F,EAAe,CAAEL,WAAUxF,WAQSS,UAAU,aAAxC,UACE,uBAAOyD,MAAOuB,EAAKzF,MAAOgE,SAAU2B,EAAclF,UAAU,cAAc0D,GAAG,cAActD,KAAK,QAAQuD,YAAY,QAAQjC,KAAK,QAAQkC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,IAC/K,uBAAOL,MAAOuB,EAAKD,SAAUxB,SAAU2B,EAAclF,UAAU,cAAc0D,GAAG,iBAAiBtD,KAAK,WAAWuD,YAAY,uCAASjC,KAAK,WAAWkC,UAAU,IAAIC,UAAU,MAAMC,UAAQ,IAC5L,wBAAQ9D,UAAU,gCAAgCI,KAAK,SAAvD,SAAgE,sBAAMJ,UAAU,oBAAhB,+HAElE,sBAAKA,UAAU,eAAf,UACE,mBAAGA,UAAU,qBAAb,kIACA,cAAC,IAAD,CAAMZ,GAAG,UAAUY,UAAU,mBAA7B,uDChCNqF,EAAQ,CACZC,QCLa,iwFDMbC,MENa,kmHFqBAC,MAZf,YAA0E,IAAnD/C,EAAkD,EAAlDA,OAAQG,EAA0C,EAA1CA,QAA0C,IAAjC6C,OAASC,GAAwB,aAAN,GAAM,GAAxBA,SAAUC,EAAc,EAAdA,KACzD,OACE,yBAAS3F,UAAS,uDAAkDyC,EAAS,eAAiB,IAA9F,SACE,sBAAKzC,UAAU,iDAAf,UACE,qBAAKA,UAAU,wBAAwBG,IAAKwF,EAAM1F,IAAKoF,EAAMK,KAC7D,oBAAI1F,UAAU,sBAAd,SAAqC2F,IACrC,wBAAQ3F,UAAU,uDAAuDI,KAAK,SAASE,QAASsC,U,gBG0F3FgD,EAAM,I,WAxGjB,cAA+B,IAAlBC,EAAiB,EAAjBA,QAASC,EAAQ,EAARA,MAAQ,oBAC5BC,KAAKC,SAAWH,EAChBE,KAAKE,OAASH,E,mDAGhB,SAAgBI,GACd,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,iBAAyBJ,EAAIT,W,4BAItC,WACE,OAAOc,MAAM,GAAD,OAAIR,KAAKC,SAAT,aAA8B,CACxCQ,OAAQ,MACRC,QAAS,CACPC,cAAeX,KAAKE,UAGvBU,KAAKZ,KAAKa,mB,4BAIb,SAAe5B,GACb,OAAOuB,MAAM,GAAD,OAAIR,KAAKC,SAAT,aAA8B,CACxCQ,OAAQ,QACRC,QAAS,CACPC,cAAeX,KAAKE,OACpB,eAAgB,oBAElBY,KAAMC,KAAKC,UAAU,CACnBrF,KAAMsD,EAAKtD,KACXW,MAAO2C,EAAK3C,UAGfsE,KAAKZ,KAAKa,mB,2BAIb,SAAc5B,GACZ,OAAOuB,MAAM,GAAD,OAAIR,KAAKC,SAAT,oBAAqC,CAC/CQ,OAAQ,QACRC,QAAS,CACPC,cAAeX,KAAKE,OACpB,eAAgB,oBAElBY,KAAMC,KAAKC,UAAU,CACnB3E,OAAQ4C,EAAK5C,WAGhBuE,KAAKZ,KAAKa,mB,6BAIb,WACE,OAAOL,MAAM,GAAD,OAAIR,KAAKC,SAAT,UAA2B,CACrCQ,OAAQ,MACRC,QAAS,CACPC,cAAeX,KAAKE,UAGvBU,KAAKZ,KAAKa,mB,wBAIb,SAAW5B,GACT,OAAOuB,MAAM,GAAD,OAAIR,KAAKC,SAAT,UAA2B,CACrCQ,OAAQ,OACRC,QAAS,CACPC,cAAeX,KAAKE,OACpB,eAAgB,oBAElBY,KAAMC,KAAKC,UAAU,CACnBrF,KAAMsD,EAAKtD,KACXD,KAAMuD,EAAKvD,SAGdkF,KAAKZ,KAAKa,mB,wBAIb,SAAWlD,GACT,OAAO6C,MAAM,GAAD,OAAIR,KAAKC,SAAT,kBAA2BtC,GAAM,CAC3C8C,OAAQ,SACRC,QAAS,CACPC,cAAeX,KAAKE,UAGvBU,KAAKZ,KAAKa,mB,kCAIb,SAAqBlD,EAAI1C,GACrB,OAAOuF,MAAM,GAAD,OAAIR,KAAKC,SAAT,wBAAiCtC,GAAM,CACnD8C,OAAQxF,EAAU,SAAW,MAC7ByF,QAAS,CACPC,cAAeX,KAAKE,UAGzBU,KAAKZ,KAAKa,qB,KAIM,CAAQ,CACzBf,QAAS,8CACTC,MAAO,yCC3GIkB,EAAW,gCAElBC,EAAgB,SAACC,GAAD,OAAcA,EAASf,GAAKe,EAASd,OAASC,QAAQC,OAAR,gDAA0BY,EAASzB,UCsPxF0B,MAvOf,WACE,MAA0D3H,IAAMC,UAAS,GAAzE,mBAAO2H,EAAP,KAA8BC,EAA9B,KACA,EAA4D7H,IAAMC,UAAS,GAA3E,mBAAO6H,EAAP,KAA+BC,EAA/B,KACA,EAAsD/H,IAAMC,UAAS,GAArE,mBAAO+H,EAAP,KAA4BC,EAA5B,KACA,EAA0CjI,IAAMC,WAAhD,mBAAOiI,EAAP,KAAsBC,EAAtB,KACA,EAAoDnI,IAAMC,UAAS,GAAnE,mBAAOmI,EAAP,KAA4BC,EAA5B,KACA,EAA0CrI,IAAMC,SAAS,MAAzD,mBAAOqI,EAAP,KAAsBC,EAAtB,KAEA,EAAgCvI,IAAMC,UAAS,GAA/C,mBAAON,EAAP,KAAiB6I,EAAjB,KACMC,EAAUC,cAEhB,EAAwC1I,IAAMC,SAAS,IAAvD,mBAAO0I,EAAP,KAAqBC,EAArB,KACA,EAAsC5I,IAAMC,SAAS,IAArD,oBAAOqB,GAAP,MAAoBuH,GAApB,MACA,GAA0B7I,IAAMC,SAAS,IAAzC,qBAAO0C,GAAP,MAAcmG,GAAd,MACA,GAA0B9I,IAAMC,SAAS,IAAzC,qBAAOF,GAAP,MAAcgJ,GAAd,MAiCA,SAASC,KACPnB,GAAyB,GACzBE,GAA0B,GAC1BE,GAAuB,GACvBA,GAAuB,GACvBE,IACAE,GAAqB,GACrBO,EAAgB,IA0IlB,OAhLA5I,IAAM4D,WAAU,WACXjE,GACDkH,QAAQoC,IAAI,CAAC7C,EAAI8C,iBAAkB9C,EAAI+C,oBACtChC,MAAK,YAAmB,IAAD,mBAAhBiC,EAAgB,KAAV5D,EAAU,KACtBqD,GAAeO,GACfN,GAAStD,EAAK6D,WACdZ,EAAQa,KAAK,YAEdC,OAAM,SAACxD,GACNyD,QAAQC,IAAI1D,MAoJlB,WACE,IAAM2D,EAAMC,aAAaC,QAAQ,OAE7BF,IDrKmBpD,ECsKLoD,EDrKb3C,MAAM,GAAD,OAAIS,EAAJ,aAAyB,CACnCR,OAAQ,MACRC,QAAS,CACP,OAAU,mBACV,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BX,MAG9Ba,KAAKM,IC8JCN,MAAK,SAAAiC,GACJ,IAAQrJ,EAAUqJ,EAAVrJ,MACRgJ,GAAShJ,GACTyI,GAAY,MAEbe,OAAM,SAAAxD,GAAK,OAAIyD,QAAQC,IAAI1D,MD5KV,IAACO,ECiBvBuD,KACC,CAACpB,EAAS9I,IA4BbK,IAAM4D,WAAU,WAEhB,SAASkG,EAAejG,GACF,WACpBA,EAAIkG,KAAuBf,KAG7B,SAASgB,EAAmBnG,GACRA,EAAIG,OACRiG,UAAUC,SAAS,UAC/BlB,KAOJ,OAHAmB,OAAOC,iBAAiB,UAAWN,GACnCK,OAAOC,iBAAiB,QAASJ,GAE1B,WACLG,OAAOE,oBAAoB,QAASL,GACpCG,OAAOE,oBAAoB,UAAWP,MAGvC,IAkHC,cAAC/I,EAAmBuJ,SAApB,CAA6BrG,MAAO3C,GAApC,SAEE,qBAAKd,UAAU,OAAf,SACE,sBAAKA,UAAU,OAAf,UACE,cAAC,EAAD,CAAQT,MAAOA,GAAOD,UAV9B,WACE0I,GAAY,GACZmB,aAAaY,WAAW,UASlB,eAAC,IAAD,WACE,cAAC,EAAD,CAAgBjK,KAAK,QAAQb,UAAW8C,EAAM5C,SAAUA,EAAU6C,aAxK5E,WACEqF,GAAyB,IAuKsFpF,cApKjH,WACEsF,GAA0B,IAmK4HrF,WAhKxJ,WACEuF,GAAuB,IA+JgK9G,YA5JzL,SAAyB4B,GACvB6F,EAAgB7F,IA2JqM3B,WAnFvN,SAAwBF,GACtB,IAAMM,EAAUN,EAAKO,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,MAAQN,GAAYM,OAC3DwE,EAAIoE,qBAAqBtJ,EAAKU,IAAKJ,GAChC2F,MAAK,SAACsD,GACL3B,IAAS,SAAC4B,GAAD,OAAWA,EAAM5H,KAAI,SAAC6H,GAAD,OAAOA,EAAE/I,MAAQV,EAAKU,IAAM6I,EAAUE,QACpE3B,QAEDO,OAAM,SAACxD,GACNyD,QAAQC,IAAI1D,OA2EiO1E,aAvEnP,SAAiCH,GAC/BmH,GAAqB,GACrBE,EAAiBrH,IAqEuQyB,MAAOA,KAEvR,cAAC,IAAD,CAAOrC,KAAK,UAAZ,SACE,cAAC,EAAD,CAAUsF,eA1DtB,aD7JsB,SAAC7F,EAAOwF,GAC9B,OAAOwB,MAAM,GAAD,OAAIS,EAAJ,WAAuB,CACjCR,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CAAExH,QAAOwF,eAE/B4B,KAAKM,ICqJJmD,CAD2C,EAAnB7K,MAAmB,EAAZwF,UAE5B4B,MAAK,SAAAiC,GACJX,EAAQa,KAAK,WACbnB,EAAiB,CACfhC,KAAM,uKACND,SAAU,eAIdqD,OAAM,SAAAxD,GACNyD,QAAQC,IAAI1D,GACZoC,EAAiB,CACfhC,KAAM,uMACND,SAAU,kBA8CN,cAAC,IAAD,CAAO5F,KAAK,UAAZ,SACE,cAAC,EAAD,CAAOgF,YA1CnB,YAA4C,IAArBvF,EAAoB,EAApBA,MAAOwF,EAAa,EAAbA,UDpKP,SAACxF,EAAOwF,GAC/B,OAAOwB,MAAM,GAAD,OAAIS,EAAJ,WAAuB,CACjCR,OAAQ,OACRC,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CAAExH,QAAOwF,eAE/B4B,KAAKM,IC4JJmD,CAAe7K,EAAOwF,GACnB4B,MAAK,SAAA3B,GACJmE,aAAakB,QAAQ,MAAOrF,EAAKc,OACjCkC,GAAY,GACZO,GAAShJ,MAEVwJ,OAAM,SAAAxD,GAAK,OAAIyD,QAAQC,IAAI1D,WAqCtB,cAAC,IAAD,CAAOxF,OAAK,EAACD,KAAK,IAAlB,SACGX,EAAW,cAAC,IAAD,CAAUC,GAAG,UAAa,cAAC,IAAD,CAAUA,GAAG,iBAIvD,cAAC,EAAD,CAAaqD,SAAUiF,EAAejC,OAAQiC,EAAevI,SAAUA,EAAUyD,QAAS4F,KAE1F,cAAC,EAAD,CAAY9H,KAAMyH,EAAcvF,QAAS4F,KAEzC,cAAC,EAAD,CAAiB/F,OAAQ2E,EAAuBxE,QAAS4F,GAAgBxE,eA5HjF,SAA4BgB,EAAMsF,GAChC1E,EAAI2E,cAAcvF,GACf2B,MAAK,SAAC6D,GACLnC,GAAemC,GACfhC,KACA8B,OAEDvB,OAAM,SAACxD,GACNyD,QAAQC,IAAI1D,SAsHV,cAAC,EAAD,CAAkB9C,OAAQ6E,EAAwB1E,QAAS4F,GAAgBxF,aAzInF,SAA0BgC,GACxBY,EAAI6E,eAAezF,GAChB2B,MAAK,SAAC+D,GACLrC,GAAeqC,GACflC,QAEDO,OAAM,SAACxD,GACNyD,QAAQC,IAAI1D,SAoIV,cAAC,EAAD,CAAe9C,OAAQ+E,EAAqB5E,QAAS4F,GAAgBtG,WApH7E,SAA8B8C,EAAMsF,GAClC1E,EAAI+E,WAAW3F,GACZ2B,MAAK,SAACsD,GACL3B,GAAS,CAAC2B,GAAF,mBAAc9H,MACtBqG,KACA8B,OAEDvB,OAAM,SAACxD,GACNyD,QAAQC,IAAI1D,SA8GV,cAAC,EAAD,CAAe9C,OAAQmF,EAAqBhF,QAAS4F,GAAgB5D,WAzF7E,WACEgB,EAAIgF,WAAW9C,EAAc1G,KAC1BuF,MAAK,WACJ2B,IAAS,SAAC4B,GAAD,OAAWA,EAAMW,QAAO,SAAAV,GAAC,OAAIA,EAAE/I,MAAQ0G,EAAc1G,UAC9DoH,QAEDO,OAAM,SAACxD,GACNyD,QAAQC,IAAI1D,iBCjJLuF,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBrE,MAAK,YAAkD,IAA/CsE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.7a7782dd.chunk.js","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./signin\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/header__logo.03b78ada.svg\";","// import React from 'react';\n// import logo from \"../images/header/header__logo.svg\";\n// import { Route, Link, Switch, useRouteMatch } from \"react-router-dom\";\n\n// function Header({ email, onSignOut }) {\n//   return (\n//     <header className=\"header\">\n//       <img className=\"header__logo\" src={logo} alt=\"Логотип Место\"/>\n//       <div className=\"header__auth-container\">\n//         <p className=\"header__auth-email\">{email}</p>\n//         <button onClick={onSignOut} className=\"header__logout-link\">Выйти</button>\n//       </div>\n//       <input className='menu-burger__toggle' type='checkbox' id='toggle' />\n//         <label className='menu-burger' htmlFor='toggle'>\n//           <span></span>\n//         </label>\n//     </header>\n//   );\n// }\n\n// export default Header;\n\nimport React from \"react\";\nimport logoPath from \"../images/header/header__logo.svg\";\nimport { Route, Link, Switch, useRouteMatch } from \"react-router-dom\";\n\nfunction Header({ onSignOut, email }) {\n  const [isMenuOpen, setMenuOpen] = React.useState(false);\n\n  function toggleMenu() {\n    setMenuOpen(!isMenuOpen);\n  }\n\n  const isMain = useRouteMatch({path: \"/main\", exact: true});\n\n  return (\n    <header className={`header ${isMenuOpen ? \"header_menu-open\" : \"\"} ${isMain ? \"header_page-main\" : \"\"}`}>\n      <img className='header__logo' src={logoPath} alt='Логотип проекта Mesto' />\n      <Switch>\n        <Route exact path='/main'>\n          <button className='header__burger' type='button' aria-label='меню' onClick={toggleMenu}></button>\n          <div className='header__auth-container'>\n            <p className='header__auth-email'>{email}</p>\n            <button className='header__logout-link' onClick={onSignOut}>Выйти</button>\n          </div>\n        </Route>\n        <Route path='/signup'>\n          <Link className='header__login-link' to='signin'>Войти</Link>\n        </Route>\n        <Route path='/signin'>\n          <Link className='header__login-link' to='signup'>Регистрация</Link>\n        </Route>\n      </Switch>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__delete-button ${isOwn ? 'element__delete-button_active' : ''}`\r\n  );\r\n  const cardLikeButtonClassName = (\r\n    `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\r\n  ); \r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLike() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDelete() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <div className=\"element__img-wrap\">\r\n        <img className=\"element__image\" src={card.link} alt={`Это ${card.name}? Не похоже) Введите корректную ссылку.`} onClick={handleClick}/>\r\n      </div>\r\n      <button className={cardDeleteButtonClassName} onClick={handleDelete} type=\"button\"></button>\r\n      <div className=\"element__info\">\r\n        <h2 className=\"element__title\">{card.name}</h2>\r\n        <div className=\"element__like_ui\">\r\n          <button className={cardLikeButtonClassName} onClick={handleLike} type=\"button\"></button>\r\n          <p className=\"element__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">\n        &copy; {new Date().getFullYear()} Made by Alexey Rudoy. Designed by Yandex.Praktikum.\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport Card from '../components/Card';\nimport Footer from '../components/Footer';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDelete, cards }) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <div className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar-wrap\">\n            <div className=\"profile__avatar-overlay\" onClick={onEditAvatar}></div>\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} />\n          </div>\n          <div className=\"profile__info\">\n            <button className=\"profile__edit-button\" onClick={onEditProfile} type=\"button\"></button>\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <p className=\"profile__about\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__add-button\" onClick={onAddPlace} type=\"button\"></button>\n        </section>\n          \n        <section className=\"elements\">\n          {cards.map((item) => (<Card key={item._id} card={item} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete} />))}\n        </section>\n      </div>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction PopupWithForm({ isOpen, title, name, buttonText, onClose, onSubmit, children }) {\n\n  return (\n      <section className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`} >\n        <div className=\"popup__container\">\n          <h2 className=\"popup__title\">{title}</h2>\n          <form className={`popup__form popup__form_type_${name}`} onSubmit={onSubmit} name={`popup_form_${name}`}>\n            {children}\n            <button className=\"popup__save-button save-button\" type=\"submit\"><span className=\"popup__button-span\">{buttonText}</span></button>\n          </form>\n          <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\n        </div>\n      </section>\n  )\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    if (currentUser.about && currentUser.name) {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }\n  }, [currentUser, isOpen]);\n\n  function handleChangeName(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleChangeAbout(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm isOpen={isOpen} title={'Редактировать профиль'} name={'profile'} buttonText={'Сохранить'} onSubmit={handleSubmit} onClose={onClose}>\n      <div className=\"popup__form-wrap\">\n        <input className=\"popup__input popup__input_type_top\" onChange={handleChangeName} value={name} id=\"name-input\" type=\"text\" placeholder=\"Имя\" name=\"name\" minLength=\"2\" maxLength=\"40\" required />\n        <span className=\"popup__input-error name-input-error\"></span>\n      </div>\n      <div className=\"popup__form-wrap\">\n        <input className=\"popup__input popup__input_type_bottom\" onChange={handleChangeAbout} value={description} id=\"about-input\" type=\"text\" placeholder=\"О себе\" name=\"about\" minLength=\"2\" maxLength=\"200\" required />\n        <span className=\"popup__input-error about-input-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n\n  const inputRef = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n  \n    onUpdateAvatar({\n      avatar: inputRef.current.value,\n    }, () => {inputRef.current.value = ''})\n  }\n\n  return (\n    <PopupWithForm  isOpen={isOpen} title={'Обновить аватар'} name={'avatar'} buttonText={'Сохранить'} onSubmit={handleSubmit} onClose={onClose}>\n      <div className=\"popup__form-wrap popup__form-wrap_type_avatar\">\n        <input className=\"popup__input\" ref={inputRef} id=\"input-link\" type=\"url\" placeholder=\"Ссылка на аватарку\" name=\"avatar\" required />\n        <span className=\"popup__input-error input-link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <section className={`popup popup_style_opacity popup_type_mesto ${card.link ? 'popup_opened' : ''}`}>\n      <div className=\"popup__wrap\">\n        <figure className=\"popup__figure\">\n          <img src={card.link} alt={card.name} className=\"popup__image\" />\n          <figcaption className=\"popup__caption\">{card.name}</figcaption>\n        </figure>\n        <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n  \n  const [namePlace, setNamePlace] = React.useState('');\n  const [linkPlace, setLinkPlace] = React.useState('');\n\n  function handleChangeNamePlace(evt) {\n    setNamePlace(evt.target.value);\n  }\n\n  function handleChangeLinkPlace(evt) {\n    setLinkPlace(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onAddPlace({\n      name: namePlace,\n      link: linkPlace,\n    }, () => {\n      setNamePlace('');\n      setLinkPlace('');\n    });\n  }\n  \n  return (\n    <PopupWithForm isOpen={isOpen} title={'Новое место'} name={'mesto'} buttonText={'Создать'} onSubmit={handleSubmit} onClose={onClose}>\n      <div className=\"popup__form-wrap\">\n        <input className=\"popup__input popup__input_type_top\" onChange={handleChangeNamePlace} value={namePlace} id=\"title-input\" type=\"text\" placeholder=\"Название\" name=\"name\" minLength=\"2\" maxLength=\"30\" required />\n        <span className=\"popup__input-error title-input-error\"></span>\n      </div>\n      <div className=\"popup__form-wrap\">\n        <input className=\"popup__input popup__input_type_bottom\" onChange={handleChangeLinkPlace} value={linkPlace} id=\"link-input\" type=\"url\" placeholder=\"Ссылка на картинку\" name=\"link\" required />\n        <span className=\"popup__input-error link-input-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction DelPlacePopup({ isOpen, onClose, onDelPlace }) {\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onDelPlace();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} title={'Вы уверены?'} name=\"delete\" buttonText={'Да'}/>\r\n  )\r\n}\r\n\r\nexport default DelPlacePopup;","import React, { useState } from 'react';\n\nfunction Login({ handleLogin }) {\n\n  const [data, setData] = useState({\n    password: '',\n    email: '',\n  })\n\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name]: value\n    });\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const { password, email } = data;\n    handleLogin({ password, email });\n  }\n  \n  return (\n    <>\n      <section className='auth'>\n        <div className='auth__container'>\n        <h2 className=\"auth__title\">Вход</h2>\n            <form onSubmit={handleSubmit} className='auth__form' >\n              <input value={data.email} onChange={handleChange}  className='auth__input' id=\"email-input\" type=\"email\" placeholder=\"Email\" name=\"email\" minLength=\"2\" maxLength=\"200\" required />\n              <input value={data.password} onChange={handleChange}  className='auth__input' id=\"password-input\" type=\"password\" placeholder=\"Пароль\" name=\"password\" minLength=\"2\" maxLength=\"200\" required />\n              <button className=\"auth__save-button save-button\" type=\"submit\"><span className=\"auth__button-span\">Войти</span></button>\n            </form>\n        </div>\n      </section>\n    </>\n  )\n}\n\nexport default Login;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ handleRegister }) {\n\n  const [data, setData] = useState({\n    password: '',\n    email: '',\n  })\n\n  function handleChange(evt) {\n    const {name, value} = evt.target;\n    setData({\n      ...data,\n      [name]: value\n    });;\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    const { password, email } = data;\n    handleRegister({ password, email });\n  }\n\n  return (\n    <>\n      <section className='auth'>\n        <div className='auth__container'>\n          <h2 className=\"auth__title\">Регистрация</h2>\n          <form onSubmit={handleSubmit} className='auth__form' >\n            <input value={data.email} onChange={handleChange} className='auth__input' id=\"email-input\" type=\"email\" placeholder=\"Email\" name=\"email\" minLength=\"2\" maxLength=\"200\" required />\n            <input value={data.password} onChange={handleChange} className='auth__input' id=\"password-input\" type=\"password\" placeholder=\"Пароль\" name=\"password\" minLength=\"2\" maxLength=\"200\" required />\n            <button className=\"auth__save-button save-button\" type=\"submit\"><span className=\"auth__button-span\">Зарегестрироваться</span></button>\n          </form>\n          <div className=\"auth__signin\">\n            <p className=\"auth__reg-question\">Уже зарегистрированы?</p>\n            <Link to=\"/signin\" className=\"auth__login-link\">Войти</Link>\n          </div>\n        </div>\n      </section>\n    </>\n  )\n}\n\nexport default Register;","import React from 'react';\nimport notifySuccess from '../images/popup/popup__notify-success.png'\nimport notifyFailed from '../images/popup/popup__notify-failed.png'\n\nconst ICONS = {\n  success: notifySuccess,\n  error: notifyFailed\n}\n\nfunction InfoTooltip({ isOpen, onClose, status: {iconType, text} = {} }) {\n  return (\n    <section className={`popup popup_style_opacity popup_type_tooltip ${isOpen ? 'popup_opened' : ''}`} >\n      <div className=\"popup__container popup__container_type_tooltip\">\n        <img className=\"popup__notify-success\" alt={text} src={ICONS[iconType]}></img>\n        <h2 className=\"popup__notify-title\">{text}</h2>\n        <button className=\"popup__close-button popup__close-button_type_tooltip\" type=\"button\" onClick={onClose}></button>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","class Api {\r\n  constructor({address, token}) {\r\n    this._address = address;\r\n    this._token = token;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n\r\n  // Загрузка информации о пользователе с сервера\r\n  getUserProfile() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Редактирование профиля\r\n  setUserProfile(data) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Обновление аватара пользователя\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Загрузка карточек с сервера\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Добавление новой карточки\r\n  addNewCard(data) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n\r\n  // Удаление карточки\r\n  removeCard(id) {\r\n    return fetch(`${this._address}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n    .then(this._handleResponse)\r\n  }\r\n  \r\n  // Постановка / снятие лайка\r\n  changeLikeCardStatus(id, isLiked) {\r\n      return fetch(`${this._address}/cards/likes/${id}`, {\r\n      method: isLiked ? 'DELETE' : 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n  .then(this._handleResponse)\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  address: \"https://mesto.nomoreparties.co/v1/cohort-22\",\r\n  token: \"68ca3bd5-b72c-4fc3-8560-fd3e63ce58a1\",\r\n});\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nconst checkResponse = (response) => response.ok ? response.json() : Promise.reject(`Ошибка: ${response.status}`);\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      \"Content-Type\": \"application/json\" \r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(checkResponse)\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(checkResponse)\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(checkResponse)\r\n}","import React from 'react';\r\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DelPlacePopup from './DelPlacePopup';\r\nimport Login from './Login';\r\nimport Register from './Register';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport { api } from '../utils/api';\r\nimport * as auth from '../utils/auth';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [tooltipStatus, setTooltipStatus] = React.useState();\r\n  const [isDelPlacePopupOpen, setDelPlacePopupOpen] = React.useState(false);\r\n  const [cardForDelete, setCardForDelete] = React.useState(null);\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false)\r\n  const history = useHistory();\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [email, setEmail] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    if(loggedIn) {\r\n      Promise.all([api.getUserProfile(), api.getInitialCards()])\r\n      .then(([user, data]) => {\r\n        setCurrentUser(user);\r\n        setCards(data.reverse());\r\n        history.push('/main')\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    }\r\n    checkToken();\r\n  }, [history, loggedIn]);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(item) {\r\n    setSelectedCard(item);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setTooltipStatus();\r\n    setDelPlacePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  React.useEffect(() => {\r\n\r\n  function handleEscClose(evt) {\r\n    const ESC_KEYCODE = 'Escape';\r\n    evt.key === ESC_KEYCODE && closeAllPopups();\r\n  }\r\n\r\n  function handleOverlayClose(evt) {\r\n    const evtTarget = evt.target;\r\n    if (evtTarget.classList.contains('popup')) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  window.addEventListener('keydown', handleEscClose);\r\n  window.addEventListener('click', handleOverlayClose);\r\n\r\n  return () => {\r\n    window.removeEventListener('click', handleOverlayClose);\r\n    window.removeEventListener('keydown', handleEscClose);\r\n  };\r\n\r\n}, []);\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setUserProfile(data)\r\n      .then((dataInfo) => {\r\n        setCurrentUser(dataInfo);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data, onSuccess) {\r\n    api.setUserAvatar(data)\r\n      .then((dataAvatar) => {\r\n        setCurrentUser(dataAvatar);\r\n        closeAllPopups();\r\n        onSuccess();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data, onSuccess) {\r\n    api.addNewCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        closeAllPopups();\r\n        onSuccess();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  function handleCardDeleteRequest(card) {\r\n    setDelPlacePopupOpen(true);\r\n    setCardForDelete(card)\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    api.removeCard(cardForDelete._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter(c => c._id !== cardForDelete._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      }); \r\n  }\r\n\r\n  function handleRegister({ email, password }) {\r\n    auth.register(email, password)\r\n      .then(user => {\r\n        history.push('/signin')\r\n        setTooltipStatus({\r\n          text: 'Вы успешно зарегистрировались', \r\n          iconType: 'success'\r\n        });\r\n        \r\n      })\r\n     .catch(error => {\r\n      console.log(error);\r\n      setTooltipStatus({\r\n        text: 'Что-то пошло не так!  Попробуйте ещё раз.', \r\n        iconType: 'error'\r\n      });\r\n     });\r\n  }\r\n\r\n  function handleLogin({ email, password })  {\r\n    auth.authorize(email, password)\r\n      .then(data => {\r\n        localStorage.setItem('jwt', data.token)\r\n        setLoggedIn(true);\r\n        setEmail(email);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  function checkToken() {\r\n    const jwt = localStorage.getItem('jwt')\r\n\r\n    if (jwt) {\r\n      auth.getContent(jwt)\r\n        .then(user => {\r\n          const { email } = user;\r\n          setEmail(email);\r\n          setLoggedIn(true);\r\n        })\r\n        .catch(error => console.log(error));\r\n    }\r\n  }\r\n\r\n  function handleLogout() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('jwt');\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n\r\n      <div className=\"body\">\r\n        <div className=\"page\">\r\n          <Header email={email} onSignOut={handleLogout} />\r\n          <Switch>\r\n            <ProtectedRoute path='/main' component={Main} loggedIn={loggedIn} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={handleCardClick} onCardLike={handleCardLike} onCardDelete={handleCardDeleteRequest} cards={cards}>\r\n            </ProtectedRoute>\r\n            <Route path=\"/signup\">\r\n              <Register handleRegister={handleRegister} />\r\n            </Route>\r\n            <Route path=\"/signin\">\r\n              <Login handleLogin={handleLogin} />\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n              {loggedIn ? <Redirect to=\"/main\" /> : <Redirect to=\"/signin\" />}\r\n            </Route>\r\n          </Switch>\r\n\r\n          <InfoTooltip isOpen={!!tooltipStatus} status={tooltipStatus} loggedIn={loggedIn} onClose={closeAllPopups} />\r\n            \r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} /> \r\n\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} /> \r\n\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n\r\n          <DelPlacePopup isOpen={isDelPlacePopupOpen} onClose={closeAllPopups} onDelPlace={handleCardDelete} />\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}